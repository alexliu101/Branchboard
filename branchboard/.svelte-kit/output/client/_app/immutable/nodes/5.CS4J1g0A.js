import"../chunks/DsnmJJEf.js";import"../chunks/Du8ZBg6i.js";import{o as ht,h as xt,e as b,s as _}from"../chunks/B_eIANii.js";import{p as yt,n as qe,o as gt,q as m,H as Te,v as w,w as d,x as kt,g as e,B,$ as $t,d as l,y as a,z as i,A as u,C as t,E as Ue,F as wt,G as Ge,I as Tt,J as At,K as Dt,L as zt}from"../chunks/CdyQOU9H.js";import{i as g,s as Ct,a as R}from"../chunks/DEBHm2Tm.js";import{j as Et,g as Ot,h as Ht,o as Pt,l as Mt,s as te,m as Nt,e as Ae,i as De}from"../chunks/VGP-E5PP.js";import{r as ze,b as _e}from"../chunks/B43XAVa5.js";import{s as L}from"../chunks/BRvGNipy.js";import{s as Je}from"../chunks/BdbfvsYH.js";import{b as St}from"../chunks/BetkchMo.js";import{p as Bt,s as Ft,b as It}from"../chunks/uMmF9f0O.js";import{i as Lt}from"../chunks/Bdm87UUO.js";var jt=m('<p class="schedule-summary svelte-11v8xc3"> </p>'),qt=m('<span class="loading"></span> Optimizing...',1),Ut=m('<p class="task-description svelte-11v8xc3"> </p>'),Gt=m("<span> </span>"),Jt=m('<span class="task-source svelte-11v8xc3">üå≥ From branch node</span>'),Kt=m('<div><div class="task-header svelte-11v8xc3"><h3 class="task-title svelte-11v8xc3"> </h3> <span class="task-hours svelte-11v8xc3"> </span></div> <!> <div class="task-meta svelte-11v8xc3"><!> <!></div> <div class="task-actions svelte-11v8xc3"><button class="btn btn-success btn-sm">‚úì Complete</button> <button class="btn btn-secondary btn-sm">‚úèÔ∏è Edit</button></div></div>'),Qt=m('<section class="priority-section svelte-11v8xc3"><h2 class="priority-header svelte-11v8xc3"><span class="priority-dot svelte-11v8xc3"></span> </h2> <div class="tasks-grid svelte-11v8xc3"></div></section>'),Rt=m('<p class="task-description svelte-11v8xc3"> </p>'),Vt=m("<span> </span>"),Wt=m('<span class="task-completed svelte-11v8xc3"> </span>'),Xt=m('<span class="task-source svelte-11v8xc3">üå≥ From branch node</span>'),Yt=m('<div class="task-actions svelte-11v8xc3"><button class="btn btn-success btn-sm">‚úì Complete</button> <button class="btn btn-secondary btn-sm">‚úèÔ∏è Edit</button></div>'),Zt=m('<div><div class="task-header svelte-11v8xc3"><h3 class="task-title svelte-11v8xc3"> </h3> <div class="task-meta-inline svelte-11v8xc3"><span class="priority-badge svelte-11v8xc3"> </span> <span class="task-hours svelte-11v8xc3"> </span></div></div> <!> <div class="task-meta svelte-11v8xc3"><!> <!> <!></div> <!></div>'),ea=m('<div class="empty-state svelte-11v8xc3"><p> </p></div>'),ta=m('<div class="tasks-grid svelte-11v8xc3"></div>'),aa=m('<div class="modal-overlay svelte-11v8xc3"><div class="modal svelte-11v8xc3"><div class="modal-header svelte-11v8xc3"><h3 class="svelte-11v8xc3">Add New Task</h3> <button class="modal-close svelte-11v8xc3">√ó</button></div> <form class="svelte-11v8xc3"><div class="form-group"><label class="form-label" for="title">Title:</label> <input id="title" type="text" placeholder="Enter task title..." class="w-full" required/></div> <div class="form-group"><label class="form-label" for="description">Description:</label> <textarea id="description" placeholder="Add details..." class="w-full" rows="3"></textarea></div> <div class="form-row svelte-11v8xc3"><div class="form-group"><label class="form-label" for="priority">Priority:</label> <select id="priority" class="w-full"><option>Low</option><option>Medium</option><option>High</option></select></div> <div class="form-group"><label class="form-label" for="hours">Estimated Hours:</label> <input id="hours" type="number" min="0.5" step="0.5" class="w-full"/></div></div> <div class="form-group"><label class="form-label" for="deadline">Deadline (optional):</label> <input id="deadline" type="date" class="w-full"/></div> <div class="modal-actions svelte-11v8xc3"><button type="button" class="btn btn-secondary">Cancel</button> <button type="submit" class="btn btn-primary">Add Task</button></div></form></div></div>'),sa=m('<div class="tasks-container svelte-11v8xc3"><div class="page-header svelte-11v8xc3"><div class="header-left svelte-11v8xc3"><h1 class="svelte-11v8xc3">üìã Tasks</h1> <!></div> <div class="header-actions svelte-11v8xc3"><button class="btn btn-secondary"><!></button> <button class="btn btn-primary">+ Add Task</button></div></div> <div class="filters-section svelte-11v8xc3"><div class="filter-tabs svelte-11v8xc3"><button> </button> <button> </button> <button> </button> <button> </button></div></div> <div class="tasks-content"><!></div></div> <!>',1);function ba(Ke,Ce){yt(Ce,!1);const F=()=>R(Ot,"$activeTasks",J),ae=()=>R(Ht,"$completedTasks",J),se=()=>R(Pt,"$overdueTasks",J),re=()=>R(Et,"$tasks",J),j=()=>R(Nt,"$scheduleAnalysis",J),me=()=>R(Mt,"$isOptimizing",J),[J,Qe]=Ct(),K=B(),be=B();let fe=B(!1),V=B(""),ie=B(""),W=B("medium"),le=B(""),ve=B(1),k=B("active");ht(async()=>{await te.loadTasks(),await te.loadSchedule()});async function Re(){await te.optimizeSchedule({method:"auto",useOptimizer:F().length>5})}function Ve(){u(fe,!0),u(V,""),u(ie,""),u(W,"medium"),u(le,""),u(ve,1)}function oe(){u(fe,!1)}async function We(){e(V).trim()&&(await te.createTask({title:e(V),description:e(ie),priority:e(W),deadline:e(le)||null,estimatedHours:e(ve)}),oe())}async function Ee(r){await te.completeTask(r)}function Oe(r){switch(r){case"high":return"var(--error-color)";case"medium":return"var(--warning-color)";case"low":return"var(--success-color)";default:return"var(--gray-400)"}}function he(r){return r?new Date(r).toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"}):"No deadline"}function ce(r){return r?new Date(r)<new Date:!1}qe(()=>(e(k),F(),ae(),se(),re()),()=>{u(K,(()=>{switch(e(k)){case"active":return F();case"completed":return ae();case"overdue":return se();case"all":return re();default:return F()}})())}),qe(()=>e(K),()=>{u(be,{high:e(K).filter(r=>r.priority==="high"),medium:e(K).filter(r=>r.priority==="medium"),low:e(K).filter(r=>r.priority==="low")})}),gt(),Lt();var He=sa();xt(r=>{$t.title="Tasks - Branchboard"});var xe=Te(He),ye=a(xe),ge=a(ye),Xe=i(a(ge),2);{var Ye=r=>{var n=jt(),f=a(n);t(n),w(()=>_(f,`${j(),l(()=>j().scheduledTasks)??""} tasks scheduled across ${j(),l(()=>j().workingDays)??""} days
					(${j(),l(()=>j().totalEstimatedHours)??""}h total)`)),d(r,n)};g(Xe,r=>{j()&&r(Ye)})}t(ge);var Pe=i(ge,2),X=a(Pe),Ze=a(X);{var et=r=>{var n=qt();Ue(),d(r,n)},tt=r=>{var n=wt("üéØ Optimize Schedule");d(r,n)};g(Ze,r=>{me()?r(et):r(tt,!1)})}t(X);var at=i(X,2);t(Pe),t(ye);var ke=i(ye,2),Me=a(ke),Y=a(Me);let Ne;var st=a(Y);t(Y);var Z=i(Y,2);let Se;var rt=a(Z);t(Z);var ee=i(Z,2);let Be;var it=a(ee);t(ee);var ne=i(ee,2);let Fe;var lt=a(ne);t(ne),t(Me),t(ke);var Ie=i(ke,2),vt=a(Ie);{var ot=r=>{var n=Ge(),f=Te(n);Ae(f,1,()=>(e(be),l(()=>Object.entries(e(be)))),De,(s,T)=>{var A=Tt(()=>zt(e(T),2));let h=()=>e(A)[0],$=()=>e(A)[1];var I=Ge(),q=Te(I);{var D=O=>{var z=Qt(),H=a(z),P=a(H),Q=i(P);t(H);var M=i(H,2);Ae(M,5,$,De,(N,v)=>{var C=Kt();let U;var G=a(C),p=a(G),$e=a(p,!0);t(p);var de=i(p,2),o=a(de);t(de),t(G);var c=i(G,2);{var x=y=>{var E=Ut(),pe=a(E,!0);t(E),w(()=>_(pe,(e(v),l(()=>e(v).description)))),d(y,E)};g(c,y=>{e(v),l(()=>e(v).description)&&y(x)})}var S=i(c,2),ue=a(S);{var we=y=>{var E=Gt();let pe;var mt=a(E);t(E),w((bt,ft)=>{pe=L(E,1,"task-deadline svelte-11v8xc3",null,pe,bt),_(mt,`üìÖ ${ft??""}`)},[()=>({overdue:ce(e(v).deadline)}),()=>(e(v),l(()=>he(e(v).deadline)))]),d(y,E)};g(ue,y=>{e(v),l(()=>e(v).deadline)&&y(we)})}var ut=i(ue,2);{var pt=y=>{var E=Jt();d(y,E)};g(ut,y=>{e(v),l(()=>e(v).sourceNodeId)&&y(pt)})}t(S);var Le=i(S,2),je=a(Le),_t=i(je,2);t(Le),t(C),w(y=>{U=L(C,1,"task-card card svelte-11v8xc3",null,U,y),_($e,(e(v),l(()=>e(v).title))),_(o,`${e(v),l(()=>e(v).estimatedHours)??""}h`)},[()=>({overdue:ce(e(v).deadline)})]),b("click",je,()=>Ee(e(v).id)),b("click",_t,()=>console.log("Edit task:",e(v).id)),d(N,C)}),t(M),t(z),w((N,v)=>{Je(P,`background-color: ${N??""}`),_(Q,` ${v??""} Priority (${$(),l(()=>$().length)??""})`)},[()=>(h(),l(()=>Oe(h()))),()=>(h(),l(()=>h().charAt(0).toUpperCase()+h().slice(1)))]),d(O,z)};g(q,O=>{$(),l(()=>$().length>0)&&O(D)})}d(s,I)}),d(r,n)},ct=r=>{var n=ta();Ae(n,5,()=>e(K),De,(f,s)=>{var T=Zt();let A;var h=a(T),$=a(h),I=a($,!0);t($);var q=i($,2),D=a(q),O=a(D,!0);t(D);var z=i(D,2),H=a(z);t(z),t(q),t(h);var P=i(h,2);{var Q=o=>{var c=Rt(),x=a(c,!0);t(c),w(()=>_(x,(e(s),l(()=>e(s).description)))),d(o,c)};g(P,o=>{e(s),l(()=>e(s).description)&&o(Q)})}var M=i(P,2),N=a(M);{var v=o=>{var c=Vt();let x;var S=a(c);t(c),w((ue,we)=>{x=L(c,1,"task-deadline svelte-11v8xc3",null,x,ue),_(S,`üìÖ ${we??""}`)},[()=>({overdue:ce(e(s).deadline)}),()=>(e(s),l(()=>he(e(s).deadline)))]),d(o,c)};g(N,o=>{e(s),l(()=>e(s).deadline)&&o(v)})}var C=i(N,2);{var U=o=>{var c=Wt(),x=a(c);t(c),w(S=>_(x,`‚úÖ Completed ${S??""}`),[()=>(e(s),l(()=>he(e(s).completedAt)))]),d(o,c)};g(C,o=>{e(s),l(()=>e(s).completedAt)&&o(U)})}var G=i(C,2);{var p=o=>{var c=Xt();d(o,c)};g(G,o=>{e(s),l(()=>e(s).sourceNodeId)&&o(p)})}t(M);var $e=i(M,2);{var de=o=>{var c=Yt(),x=a(c),S=i(x,2);t(c),b("click",x,()=>Ee(e(s).id)),b("click",S,()=>console.log("Edit task:",e(s).id)),d(o,c)};g($e,o=>{e(s),l(()=>e(s).status!=="completed")&&o(de)})}t(T),w((o,c,x)=>{A=L(T,1,"task-card card svelte-11v8xc3",null,A,o),_(I,(e(s),l(()=>e(s).title))),Je(D,`background-color: ${c??""}`),_(O,x),_(H,`${e(s),l(()=>e(s).estimatedHours)??""}h`)},[()=>({completed:e(s).status==="completed",overdue:ce(e(s).deadline)}),()=>(e(s),l(()=>Oe(e(s).priority))),()=>(e(s),l(()=>e(s).priority.charAt(0).toUpperCase()))]),d(f,T)},f=>{var s=ea(),T=a(s),A=a(T);t(T),t(s),w(()=>_(A,`No ${e(k)??""} tasks found`)),d(f,s)}),t(n),d(r,n)};g(vt,r=>{e(k)==="active"?r(ot):r(ct,!1)})}t(Ie),t(xe);var nt=i(xe,2);{var dt=r=>{var n=aa(),f=a(n),s=a(f),T=i(a(s),2);t(s);var A=i(s,2),h=a(A),$=i(a(h),2);ze($),t(h);var I=i(h,2),q=i(a(I),2);At(q),t(I);var D=i(I,2),O=a(D),z=i(a(O),2);w(()=>{e(W),Dt(()=>{})});var H=a(z);H.value=H.__value="low";var P=i(H);P.value=P.__value="medium";var Q=i(P);Q.value=Q.__value="high",t(z),t(O);var M=i(O,2),N=i(a(M),2);ze(N),t(M),t(D);var v=i(D,2),C=i(a(v),2);ze(C),t(v);var U=i(v,2),G=a(U);Ue(2),t(U),t(A),t(f),t(n),b("click",T,oe),_e($,()=>e(V),p=>u(V,p)),_e(q,()=>e(ie),p=>u(ie,p)),St(z,()=>e(W),p=>u(W,p)),_e(N,()=>e(ve),p=>u(ve,p)),_e(C,()=>e(le),p=>u(le,p)),b("click",G,oe),b("submit",A,Bt(We)),b("click",f,Ft(function(p){It.call(this,Ce,p)})),b("click",n,oe),d(r,n)};g(nt,r=>{e(fe)&&r(dt)})}w((r,n,f,s)=>{X.disabled=(me(),F(),l(()=>me()||F().length===0)),Ne=L(Y,1,"filter-tab svelte-11v8xc3",null,Ne,r),_(st,`Active (${F(),l(()=>F().length)??""})`),Se=L(Z,1,"filter-tab svelte-11v8xc3",null,Se,n),_(rt,`Overdue (${se(),l(()=>se().length)??""})`),Be=L(ee,1,"filter-tab svelte-11v8xc3",null,Be,f),_(it,`Completed (${ae(),l(()=>ae().length)??""})`),Fe=L(ne,1,"filter-tab svelte-11v8xc3",null,Fe,s),_(lt,`All (${re(),l(()=>re().length)??""})`)},[()=>({active:e(k)==="active"}),()=>({active:e(k)==="overdue"}),()=>({active:e(k)==="completed"}),()=>({active:e(k)==="all"})]),b("click",X,Re),b("click",at,Ve),b("click",Y,()=>u(k,"active")),b("click",Z,()=>u(k,"overdue")),b("click",ee,()=>u(k,"completed")),b("click",ne,()=>u(k,"all")),d(Ke,He),kt(),Qe()}export{ba as component};
