import"../chunks/DsnmJJEf.js";import"../chunks/Du8ZBg6i.js";import{o as Rt,h as Wt,e as Jt,s as l}from"../chunks/B_eIANii.js";import{p as Kt,n as q,o as Xt,q as p,v as B,w as n,x as Yt,g as t,B as E,$ as Zt,z as v,d as r,y as a,A as L,C as s,E as H,F as at,G as te,H as ee}from"../chunks/CdyQOU9H.js";import{i as C,s as se,a as z}from"../chunks/DEBHm2Tm.js";import{e as F,i as U,g as ae,s as wt,o as re,h as ve,j as ie,c as le,k as de}from"../chunks/VGP-E5PP.js";import{s as Tt}from"../chunks/BRvGNipy.js";import{s as rt}from"../chunks/BdbfvsYH.js";import{i as oe}from"../chunks/Bdm87UUO.js";var ce=p('<div class="branch-item svelte-1xe1tgt"> </div>'),ne=p('<div class="active-branches svelte-1xe1tgt"><h4 class="svelte-1xe1tgt">Current Branches:</h4> <!></div>'),ge=p('<div class="no-branches svelte-1xe1tgt"><p class="svelte-1xe1tgt">No active branches set</p> <small class="svelte-1xe1tgt">Visit Upcoming to create scenarios and set current branches</small></div>'),_e=p('<div class="metric-item svelte-1xe1tgt"><div class="metric-header svelte-1xe1tgt"><span class="metric-name svelte-1xe1tgt"> </span> <span><!></span></div> <div class="metric-progress svelte-1xe1tgt"><div class="progress-bar svelte-1xe1tgt"><div class="progress-fill svelte-1xe1tgt"></div></div> <div class="metric-values svelte-1xe1tgt"><span class="current svelte-1xe1tgt"> </span> <span class="target svelte-1xe1tgt"> </span></div></div></div>'),xe=p('<span class="task-deadline"> </span>'),pe=p('<span class="task-source">🌳 Branch task</span>'),ue=p('<div class="task-item svelte-1xe1tgt"><div class="task-priority svelte-1xe1tgt"> </div> <div class="task-details svelte-1xe1tgt"><div class="task-title svelte-1xe1tgt"> </div> <div class="task-meta svelte-1xe1tgt"><!> <!></div></div> <div class="task-effort svelte-1xe1tgt"> </div></div>'),he=p('<div class="empty-state svelte-1xe1tgt"><p class="svelte-1xe1tgt">No active tasks</p> <small class="svelte-1xe1tgt">Add tasks in the Tasks page or create them from branch nodes</small></div>'),me=p('<span class="task-deadline"> </span>'),be=p('<div class="task-item svelte-1xe1tgt"><div> </div> <div class="task-details svelte-1xe1tgt"><div class="task-title svelte-1xe1tgt"> </div> <div class="task-meta svelte-1xe1tgt"><span class="task-hours"> </span> <!></div></div> <div class="task-priority-indicator svelte-1xe1tgt"> </div></div>'),fe=p('<div class="empty-state svelte-1xe1tgt"><p class="svelte-1xe1tgt">No active tasks</p> <small class="svelte-1xe1tgt">Add tasks to see effort distribution</small></div>'),ye=p('<div class="dashboards-container svelte-1xe1tgt"><div class="page-header svelte-1xe1tgt"><h1 class="svelte-1xe1tgt">📊 Dashboards</h1> <p class="page-subtitle svelte-1xe1tgt">Roll-up views to keep you on track</p></div> <div class="dashboard-grid svelte-1xe1tgt"><section class="dashboard-card card svelte-1xe1tgt"><div class="card-title svelte-1xe1tgt">📋 Task Overview</div> <div class="stats-grid svelte-1xe1tgt"><div class="stat-item svelte-1xe1tgt"><div class="stat-number svelte-1xe1tgt" style="color: var(--primary-color)"> </div> <div class="stat-label svelte-1xe1tgt">Total Tasks</div></div> <div class="stat-item svelte-1xe1tgt"><div class="stat-number svelte-1xe1tgt" style="color: var(--success-color)"> </div> <div class="stat-label svelte-1xe1tgt">Completed</div></div> <div class="stat-item svelte-1xe1tgt"><div class="stat-number svelte-1xe1tgt" style="color: var(--warning-color)"> </div> <div class="stat-label svelte-1xe1tgt">Pending</div></div> <div class="stat-item svelte-1xe1tgt"><div class="stat-number svelte-1xe1tgt" style="color: var(--error-color)"> </div> <div class="stat-label svelte-1xe1tgt">Overdue</div></div></div></section> <section class="dashboard-card card svelte-1xe1tgt"><div class="card-title svelte-1xe1tgt">🌳 Branch Status</div> <div class="branch-overview svelte-1xe1tgt"><div class="branch-stat svelte-1xe1tgt"><span class="branch-count svelte-1xe1tgt"> </span> <span class="branch-label svelte-1xe1tgt">Active Branches</span></div> <div class="branch-stat svelte-1xe1tgt"><span class="branch-count svelte-1xe1tgt"> </span> <span class="branch-label svelte-1xe1tgt">Total Scenarios</span></div> <!></div></section> <section class="dashboard-card card svelte-1xe1tgt"><div class="card-title svelte-1xe1tgt">💪 Personal Metrics</div> <div class="metrics-list svelte-1xe1tgt"></div></section> <section class="dashboard-card card svelte-1xe1tgt"><div class="card-title svelte-1xe1tgt">🔥 Tasks by Priority</div> <div class="tasks-list svelte-1xe1tgt"></div></section> <section class="dashboard-card card svelte-1xe1tgt"><div class="card-title svelte-1xe1tgt">⚡ Tasks by Effort</div> <div class="tasks-list svelte-1xe1tgt"></div></section> <section class="dashboard-card card svelte-1xe1tgt"><div class="card-title svelte-1xe1tgt">⚡ Quick Actions</div> <div class="quick-actions svelte-1xe1tgt"><a href="/tasks" class="action-button svelte-1xe1tgt">📋 Manage Tasks</a> <a href="/upcoming" class="action-button svelte-1xe1tgt">📅 View Scenarios</a> <button class="action-button svelte-1xe1tgt">🎯 Optimize Schedule</button></div></section></div></div>');function Ce(Bt,St){Kt(St,!1);const vt=()=>z(ie,"$tasks",S),Dt=()=>z(ve,"$completedTasks",S),M=()=>z(ae,"$activeTasks",S),At=()=>z(re,"$overdueTasks",S),Ht=()=>z(le,"$currentBranches",S),it=()=>z(de,"$scenarios",S),[S,Ct]=se(),V=E(),j=E(),zt=E();let b=E({total:0,completed:0,pending:0,overdue:0}),Mt=[{name:"Focus Sessions",current:5,target:6,trend:"up",color:"#10b981"},{name:"Weekly Tasks",current:8,target:10,trend:"stable",color:"#3b82f6"},{name:"Branch Switches",current:2,target:5,trend:"down",color:"#f59e0b"}],u=E([]);Rt(async()=>{await wt.initializeData(),lt()});function lt(){L(b,{total:vt().length,completed:Dt().length,pending:M().length,overdue:At().length}),vt(),L(u,Ht())}function G(i){return i>=4?"L":i>=2?"M":"S"}function dt(i){switch(i){case"high":return"var(--error-color)";case"medium":return"var(--warning-color)";case"low":return"var(--success-color)";default:return"var(--gray-400)"}}q(()=>{},()=>{lt()}),q(()=>M(),()=>{L(V,[...M()].sort((i,e)=>{const o={high:3,medium:2,low:1};return(o[e.priority]||1)-(o[i.priority]||1)}))}),q(()=>M(),()=>{L(j,[...M()].sort((i,e)=>(i.estimatedHours||1)-(e.estimatedHours||1)))}),q(()=>t(u),()=>{L(zt,t(u).length>0?`${t(u).length} active branch${t(u).length!==1?"es":""}`:"No active branches")}),Xt(),oe();var I=ye();Wt(i=>{Zt.title="Dashboards - Branchboard"});var ot=v(a(I),2),Q=a(ot),ct=v(a(Q),2),R=a(ct),nt=a(R),Nt=a(nt,!0);s(nt),H(2),s(R);var W=v(R,2),gt=a(W),Pt=a(gt,!0);s(gt),H(2),s(W);var J=v(W,2),_t=a(J),Et=a(_t,!0);s(_t),H(2),s(J);var xt=v(J,2),pt=a(xt),Lt=a(pt,!0);s(pt),H(2),s(xt),s(ct),s(Q);var K=v(Q,2),ut=v(a(K),2),X=a(ut),ht=a(X),Ot=a(ht,!0);s(ht),H(2),s(X);var Y=v(X,2),mt=a(Y),qt=a(mt,!0);s(mt),H(2),s(Y);var Ft=v(Y,2);{var Ut=i=>{var e=ne(),o=v(a(e),2);F(o,1,()=>t(u),U,(g,h)=>{var _=ce(),x=a(_);s(_),B(()=>l(x,`📍 ${t(h),r(()=>t(h).description)??""}`)),n(g,_)}),s(e),n(i,e)},Vt=i=>{var e=ge();n(i,e)};C(Ft,i=>{t(u),r(()=>t(u).length>0)?i(Ut):i(Vt,!1)})}s(ut),s(K);var Z=v(K,2),bt=v(a(Z),2);F(bt,5,()=>Mt,U,(i,e)=>{var o=_e(),g=a(o),h=a(g),_=a(h,!0);s(h);var x=v(h,2),N=a(x);{var k=m=>{var O=at("↗️");n(m,O)},$=m=>{var O=te(),Gt=ee(O);{var It=A=>{var st=at("↘️");n(A,st)},Qt=A=>{var st=at("→");n(A,st)};C(Gt,A=>{t(e),r(()=>t(e).trend==="down")?A(It):A(Qt,!1)},!0)}n(m,O)};C(N,m=>{t(e),r(()=>t(e).trend==="up")?m(k):m($,!1)})}s(x),s(g);var D=v(g,2),w=a(D),P=a(w);s(w);var f=v(w,2),T=a(f),d=a(T,!0);s(T);var c=v(T,2),y=a(c);s(c),s(f),s(D),s(o),B(()=>{l(_,(t(e),r(()=>t(e).name))),Tt(x,1,`metric-trend trend-${t(e),r(()=>t(e).trend)??""}`,"svelte-1xe1tgt"),rt(P,`width: ${t(e),r(()=>t(e).current/t(e).target*100)??""}%; background-color: ${t(e),r(()=>t(e).color)??""}`),l(d,(t(e),r(()=>t(e).current))),l(y,`/ ${t(e),r(()=>t(e).target)??""}`)}),n(i,o)}),s(bt),s(Z);var tt=v(Z,2),ft=v(a(tt),2);F(ft,5,()=>(t(V),r(()=>t(V).slice(0,6))),U,(i,e)=>{var o=ue(),g=a(o),h=a(g,!0);s(g);var _=v(g,2),x=a(_),N=a(x,!0);s(x);var k=v(x,2),$=a(k);{var D=d=>{var c=xe(),y=a(c);s(c),B(m=>l(y,`📅 ${m??""}`),[()=>(t(e),r(()=>new Date(t(e).deadline).toLocaleDateString()))]),n(d,c)};C($,d=>{t(e),r(()=>t(e).deadline)&&d(D)})}var w=v($,2);{var P=d=>{var c=pe();n(d,c)};C(w,d=>{t(e),r(()=>t(e).sourceNodeId)&&d(P)})}s(k),s(_);var f=v(_,2),T=a(f,!0);s(f),s(o),B((d,c,y)=>{rt(g,`background-color: ${d??""}`),l(h,c),l(N,(t(e),r(()=>t(e).title))),l(T,y)},[()=>(t(e),r(()=>dt(t(e).priority))),()=>(t(e),r(()=>t(e).priority.charAt(0).toUpperCase())),()=>(t(e),r(()=>G(t(e).estimatedHours)))]),n(i,o)},i=>{var e=he();n(i,e)}),s(ft),s(tt);var et=v(tt,2),yt=v(a(et),2);F(yt,5,()=>(t(j),r(()=>t(j).slice(0,6))),U,(i,e)=>{var o=be(),g=a(o),h=a(g,!0);s(g);var _=v(g,2),x=a(_),N=a(x,!0);s(x);var k=v(x,2),$=a(k),D=a($);s($);var w=v($,2);{var P=d=>{var c=me(),y=a(c);s(c),B(m=>l(y,`📅 ${m??""}`),[()=>(t(e),r(()=>new Date(t(e).deadline).toLocaleDateString()))]),n(d,c)};C(w,d=>{t(e),r(()=>t(e).deadline)&&d(P)})}s(k),s(_);var f=v(_,2),T=a(f,!0);s(f),s(o),B((d,c,y)=>{Tt(g,1,`task-effort-badge effort-${d??""}`,"svelte-1xe1tgt"),l(h,c),l(N,(t(e),r(()=>t(e).title))),l(D,`${t(e),r(()=>t(e).estimatedHours)??""}h estimated`),rt(f,`color: ${y??""}`),l(T,(t(e),r(()=>t(e).priority)))},[()=>(t(e),r(()=>G(t(e).estimatedHours).toLowerCase())),()=>(t(e),r(()=>G(t(e).estimatedHours))),()=>(t(e),r(()=>dt(t(e).priority)))]),n(i,o)},i=>{var e=fe();n(i,e)}),s(yt),s(et);var $t=v(et,2),kt=v(a($t),2),jt=v(a(kt),4);s(kt),s($t),s(ot),s(I),B(()=>{l(Nt,(t(b),r(()=>t(b).total))),l(Pt,(t(b),r(()=>t(b).completed))),l(Et,(t(b),r(()=>t(b).pending))),l(Lt,(t(b),r(()=>t(b).overdue))),l(Ot,(t(u),r(()=>t(u).length))),l(qt,(it(),r(()=>it().length)))}),Jt("click",jt,()=>wt.optimizeSchedule()),n(Bt,I),Yt(),Ct()}export{Ce as component};
