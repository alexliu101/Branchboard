import{h as _,a1 as i,a2 as h,a3 as m,a4 as S,l as b,a5 as k,d as E,M as y,a6 as f,a7 as A}from"./CdyQOU9H.js";const M=Symbol("is custom element"),N=Symbol("is html");function T(e){if(_){var a=!1,s=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var v=e.value;t(e,"value",null),e.value=v}if(e.hasAttribute("checked")){var r=e.checked;t(e,"checked",null),e.checked=r}}};e.__on_r=s,i(s),h()}}function I(e,a){var s=o(e);s.value===(s.value=a??void 0)||e.value===a&&(a!==0||e.nodeName!=="PROGRESS")||(e.value=a??"")}function t(e,a,s,v){var r=o(e);_&&(r[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||r[a]!==(r[a]=s)&&(a==="loading"&&(e[m]=s),e.removeAttribute(a))}function o(e){return e.__attributes??={[M]:e.nodeName.includes("-"),[N]:e.namespaceURI===S}}function g(e,a,s=a){var v=new WeakSet;b(e,"input",async r=>{var l=r?e.defaultValue:e.value;if(l=c(e)?u(l):l,s(l),f!==null&&v.add(f),await k(),l!==(l=a())){var d=e.selectionStart,n=e.selectionEnd;e.value=l??"",n!==null&&(e.selectionStart=d,e.selectionEnd=Math.min(n,e.value.length))}}),(_&&e.defaultValue!==e.value||E(a)==null&&e.value)&&(s(c(e)?u(e.value):e.value),f!==null&&v.add(f)),y(()=>{var r=a();if(e===document.activeElement){var l=A??f;if(v.has(l))return}c(e)&&r===u(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function c(e){var a=e.type;return a==="number"||a==="range"}function u(e){return e===""?null:+e}export{g as b,T as r,I as s};
